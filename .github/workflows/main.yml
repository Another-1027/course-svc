name: course-svc
on: 
 push: 
  branches: 
   - master
jobs:
 build:
   runs-on: ubuntu-latest
   steps: 
   - uses: actions/checkout@v3
   - name: Set up JDK 17
   - uses: actions/setup-java@v3
   - with:
       java-sersion: '17'
       distribution: 'temurin'
       cache: maven
   - name: Build with Maven
   - run: mvn -B package --flie pom.xml
   - name: Update dependency graph
     uses: advanced-security/maven-dependency-submission-action@571e99aab1055c2e71a1e2309b9691de18d6b7d6
 docker:
      runs-on: ubuntu-latest
      steps:
      - run: cd course-admin-server
      - name: Build course-admin-server
        run: docker build . --file Dockerfile --tag course-admin-server:$(date +%s)
      - run: cd ..
      - run: cd course-consumer-course
      - name: Build course-consumer-course
        run: docker build . --file Dockerfile --tag course-consumer-course:$(date +%s)
      - run: cd ..
      - run: cd course-consumer-order
      - name: Build course-consumer-order
        run: docker build . --file Dockerfile --tag course-consumer-order:$(date +%s)
      - run: cd ..
      - run: cd course-login
      - name: Build course-consumer-order
        run: docker build . --file Dockerfile --tag course-login:$(date +%s)
      
